<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8">
  <title>Ansatte</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background-color: #f9f9f9;
    }
      .header-box {
  background-color: #800020; /* burgundy rød */
  color: white;
  text-align: center;
  padding: 30px;            /* mer luft inni header-boksen */
  border-radius: 8px;
  font-size: 28px;
  font-weight: bold;
  margin-bottom: 20px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  width: 100%;              /* fyller hele bredden */
  height: 100px;
}

    /* resten av CSS for filter og grid */
   .filters {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        justify-content: flex-start;
        margin-bottom: 20px;
        margin-left: 40px; /* avstand fra venstre vegg */
      }
      .filter-btn {
      background: #add8e6; /* lyseblå */
      color: #000;
      border: 2px solid black; /* svart kant rundt knappene */
      padding: 10px 15px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
      transition: background 0.3s;
    }
    .filter-btn:hover {
      background: #87ceeb; /* litt mørkere lyseblå ved hover */
    }
    .filters-row {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    align-items: center;
    justify-content: flex-start;
    margin-top: 10px;
    margin-bottom: 20px;
    margin-left: 40px; /* avstand fra venstre vegg */
  }
    .filters-row span {
      font-size: 18px;
      font-weight: bold;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      padding: 0 40px;
    }
  .card {
      background: white;
      border: 1px solid #ccc;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      justify-content: space-between;

      /* kontroll på størrelse */
      width: 600px;   /* bredde */
      height: 250px;  /* høyde */
    }
    .card h2 {
      margin: 0 0 15px;
      font-size: 22px;
      color: #333;
    }
    .card p {
  margin: 0; /* fjerner all avstand mellom linjene */
  font-size: 18px;
}

.card .email {
  margin: 0; /* ingen ekstra avstand over epost-linjen */
  font-size: 16px;
}

    .kursansvar {
      color: green;
      font-weight: bold;
    }
    .ingen-kursansvar {
      color: red;
    }
    .personas-title {
  font-size: 32px;   /* større font */
  font-weight: bold;
  color: #000;       /* svart tekst */
  margin: 20px 40px; /* litt luft over og fra venstre */
  text-align: left;  /* venstrejustert */
}

    
  </style>
</head>
<body>
  <!-- Header-boks -->
  <div class="header-box">Liste over ansatte</div>

  <!-- Filterpanel -->
  <div class="filters">
    <button class="filter-btn" onclick="visAlle()">Vis alle ansatte</button>
    <button class="filter-btn" onclick="visUndervisere()">Vis undervisere</button>
    <button class="filter-btn" onclick="visAdministrasjon()">Vis administrasjon</button>
  </div>

  <div class="filters-row">
    <span>Vis kun stillinger:</span>
    <button class="filter-btn" onclick="filtrerStilling('Professor')">Professor</button>
    <button class="filter-btn" onclick="filtrerStilling('Dekan')">Dekan</button>
    <button class="filter-btn" onclick="filtrerStilling('Rektor')">Rektor</button>
    <button class="filter-btn" onclick="filtrerStilling('Vaktmester')">Vaktmester</button>
    <button class="filter-btn" onclick="filtrerStilling('Lektor')">Lektor</button>
  </div>

 <!-- Overskrift over personas-boksene -->
<div class="personas-title">Ansatte</div>

<!-- Grid med personboksene -->
<div class="grid" id="ansatteGrid"></div>

  
  <div class="grid" id="ansatteGrid">


  

  <script>
    const NAVN_LISTE = [
      "Ola Nordmann", "Kari Olsen", "Per Hansen", "Anne Johansen",
      "Morten Berg", "Lise Nilsen", "Erik Larsen", "Sara Pedersen",
      "Jonas Kristoffersen", "Camilla Andresen", "Henrik Solberg",
      "Marte Lie", "Sindre Aas", "Helene Dahl", "Tor Eriksen",
      "Ida Svendsen", "Magnus Haugen", "Nora Evensen", "Eirik Moe",
      "Sofie Gundersen"
    ];

    const ANTALL = {
      Rektor: 1,
      Dekan: 2,
      Vaktmester: 3,
      Professor: 5,
      Lektor: 10,
    };

    const makeEmail = (navn) =>
      `${navn.toLowerCase().replace(/\s+/g, '.')}@example.no`;

    const makeKontor = (stilling, index) =>
      `${stilling.substring(0, 3).toUpperCase()}-${String(index).padStart(2, '0')}`;

    function genererAnsatte() {
      const ansatte = [];
      let navnIndex = 0;

      const leggTil = (stilling, antall) => {
        for (let i = 1; i <= antall; i++) {
          const fullNavn = NAVN_LISTE[navnIndex % NAVN_LISTE.length];
          navnIndex++;

          const erKursansvarlig = (stilling === 'Professor' || stilling === 'Lektor');
          const antallKursansvar =
            !erKursansvarlig ? 0 :
            (stilling === 'Professor' ? 1 : 1);

          ansatte.push({
            id: `${stilling}-${i}`,
            fullNavn,
            stilling,
            kontor: makeKontor(stilling, i),
            epost: makeEmail(fullNavn),
            kursansvar: {
              harKursansvar: erKursansvarlig,
              antall: antallKursansvar,
            },
          });
        }
      };

      Object.entries(ANTALL).forEach(([stilling, antall]) => leggTil(stilling, antall));

      const lektorer = ansatte.filter(a => a.stilling === 'Lektor');
      for (let i = 0; i < Math.min(3, lektorer.length); i++) {
        lektorer[i].kursansvar.antall = 2;
      }

      return ansatte;
    }

    const ansatte = genererAnsatte();

    function renderAnsatte(liste) {
      const grid = document.getElementById("ansatteGrid");
      grid.innerHTML = "";
      liste.forEach(a => {
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
          <h2>${a.fullNavn}</h2>
          <p><strong>Stilling:</strong> ${a.stilling}</p>
          <p><strong>Kontor:</strong> ${a.kontor}</p>
          <p class="${a.kursansvar.harKursansvar ? 'kursansvar' : 'ingen-kursansvar'}">
            <p class="email"><strong>E-post:</strong> <a href="mailto:${a.epost}">${a.epost}</a></p>
            ${a.kursansvar.harKursansvar ? a.kursansvar.antall + " kursansvar" : "Ingen kursansvar"}
          </p>
        `;
        grid.appendChild(card);
      });
    }

    function visAlle() {
      renderAnsatte(ansatte);
    }
    function visUndervisere() {
      renderAnsatte(ansatte.filter(a => a.stilling === "Professor" || a.stilling === "Lektor"));
    }
    function visAdministrasjon() {
      renderAnsatte(ansatte.filter(a => ["Rektor","Dekan","Vaktmester"].includes(a.stilling)));
    }
    function filtrerStilling(stilling) {
      renderAnsatte(ansatte.filter(a => a.stilling === stilling));
    }

    visAlle();
  </script>
</body>
</html>
